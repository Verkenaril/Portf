<UserControl x:Class="CRM.TabItemTasks"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CRM"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/MainBtnStyle.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid Margin="15, 10, 15, 0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" MinWidth="150"/>
                <ColumnDefinition Width="*" MinWidth="150"/>
                <ColumnDefinition Width="*" MinWidth="150"/>
                <ColumnDefinition Width="*" MinWidth="150"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0"  Margin="0, 0, 10, 0" Background="#19FF8F07">
                <Label Content="Новые задачи" HorizontalContentAlignment="Center" Background="#FFFF8F07" Foreground="White" FontSize="18"/>
                <ItemsControl ItemsSource="{Binding tasks_new}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Margin="0, 10, 0, 0" BorderBrush="#FFFF8F07" BorderThickness="3,0,0,0">
                                <StackPanel Margin="5">
                                    <TextBlock Text="{Binding title}" FontWeight="Bold"/>
                                    <TextBlock Text="{Binding description, StringFormat='Описание: {0}'}" Height="30"/>
                                    <TextBlock Text="{Binding executor, StringFormat='Исполнитель: {0}'}"/>
                                    <TextBlock Text="{Binding period, StringFormat='Срок до: {0}'}"/>
                                    <Button Content="Изменить" Command="{Binding EditTaskItemCommand}" Background="#435fe5" Foreground =" white" Style="{StaticResource btn_style}" Height="30" />
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>
            <StackPanel Grid.Column="1" Margin="0, 0, 10, 0" Background="#192C86FF">
                <Label Content="В работе" HorizontalContentAlignment="Center" Background="#FF2C86FF" Foreground="White" FontSize="18"/>
                <ItemsControl ItemsSource="{Binding tasks_in_working}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Margin="0, 10, 0, 0" BorderBrush="#FF2C86FF" BorderThickness="3,0,0,0">
                                <StackPanel Margin="5">
                                    <TextBlock Text="{Binding title}" FontWeight="Bold"/>
                                    <TextBlock Text="{Binding description, StringFormat='Описание: {0}'}" Height="30"/>
                                    <TextBlock Text="{Binding executor, StringFormat='Исполнитель: {0}'}"/>
                                    <TextBlock Text="{Binding period, StringFormat='Срок до: {0}'}"/>
                                    <Button Content="Изменить" Command="{Binding EditTaskItemCommand}" Background="#435fe5" Foreground =" white" Style="{StaticResource btn_style}" Height="30" />
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>
            <StackPanel  Grid.Column="2" Margin="0, 0, 10, 0" Background="#19EEEF19">
                <Label Content="На проверке" HorizontalContentAlignment="Center" Background="#FFEEEF19" Foreground="Black" FontSize="18"/>
                <ItemsControl ItemsSource="{Binding tasks_under_review}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Margin="0, 10, 0, 0" BorderBrush="#FFEEEF19" BorderThickness="3,0,0,0">
                                <StackPanel Margin="5">
                                    <TextBlock Text="{Binding title}" FontWeight="Bold"/>
                                    <TextBlock Text="{Binding description, StringFormat='Описание: {0}'}" Height="30"/>
                                    <TextBlock Text="{Binding executor, StringFormat='Исполнитель: {0}'}"/>
                                    <TextBlock Text="{Binding period, StringFormat='Срок до: {0}'}"/>
                                    <Button Content="Изменить" Command="{Binding EditTaskItemCommand}" Background="#435fe5" Foreground =" white" Style="{StaticResource btn_style}" Height="30" />
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>
            <StackPanel Grid.Column="3" Margin="0, 0, 10, 0" Background="#1900A00B">
                <Label Content="Выполненные" HorizontalContentAlignment="Center" Background="#FF00A00B" Foreground="White" FontSize="18"/>
                <ItemsControl ItemsSource="{Binding tasks_complete}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Margin="0, 10, 0, 0" BorderBrush="#FF00A00B" BorderThickness="3,0,0,0">
                                <StackPanel Margin="5">
                                    <TextBlock Text="{Binding title}" FontWeight="Bold"/>
                                    <TextBlock Text="{Binding description, StringFormat='Описание: {0}'}" Height="30"/>
                                    <TextBlock Text="{Binding executor, StringFormat='Исполнитель: {0}'}"/>
                                    <TextBlock Text="{Binding period, StringFormat='Срок до: {0}'}"/>
                                    <Button Content="Изменить" Command="{Binding EditTaskItemCommand}" Background="#435fe5" Foreground =" white" Style="{StaticResource btn_style}" Height="30" />
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>
